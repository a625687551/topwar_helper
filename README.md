# topwar_helper
功能列表：
1、在浏览器上添加一个固定入口
2、添加功能 批量建造 金矿、兵工厂、船厂、飞机场
3、添加功能 快捷键

TODO：
批量建造目前是一个一个造，太慢了，可以考虑一次建造多个，只是如何判断位置不足

TODO：
尽量的让这个东西看上去不那么土，像是一个可以信任的产品

TODO：
整个浏览器放到后台，是否可以正常

新界面
新用户没有造船科技前造船update应该跳过
自动雷达任务，应该处理“敌人太强”的提示，这个主要是在新手引导阶段

## 雷达部分
自动雷达大致流程
### 用户设置 希望自动进行的 任务类型 体力保留 是否吃药（吃多少）次数（或许可以永久？或者直接设置个上限吧，比如20，这也涉及到后台状态是否正常）
TODO：任务优先级
TODO：战斗任务阵容
TODO：任务间隔（为了防止队列不足的时候卡主）
### 点击开始任务
### 中间发现不在正确的页面就自动停止任务，主要是防止用户自己操作，切换到其他页面，引起以外问题
TODO：任务报告
### 点击终止任务即终止任务
在空闲状态或上一个任务完成状态 -> 获得任务列表
选择一个优先级最高任务，目前是救援任务优先级最高，然后是5体力的攻击，最后是10体力的攻击，其他类型暂时不支持
是否有队列 -> 如果1分钟之内（阈值可设）有队列，等待 -> 实在没有队列，直接任务结束
是否有足够的体力 -> 不足是否可以吃药 -> 是否有药 -> 有药就吃，没药任务结束
根据类型不同，按步骤进行，要记录状态，这里做一个简单的有限状态机，开始任务修改状态，防止任务重叠
闲着的时候检查一下是否可以领奖，如果可以就领了再刷新

### 雷达 2022 03 24 一期功能完成
已经可以连续顺利的做任务
TODO：
1、只做选中类型的任务
2、任务优先级（最好可以上下拖拽）
3、吃药选择
4、吃药优先级
5、其他任务类型（暂时没刷到）
6、对于队列的判断
7、log优化，更容易看懂
8、UI优化：开始任务后所有input disable，停止任务后的反向操作
9、文案：建议用户这段时间不要操作，不要搞事
10、不同任务选不同的阵容
11、比较前期，任务完成会导致升级，有额外提示，需要处理
